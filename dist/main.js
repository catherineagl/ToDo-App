(()=>{"use strict";class e{constructor(e,t,n,a){this._title=e,this._dueDate=t,this._project=n,this._priority=a}}class t{constructor(e){this._title=e}}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function s(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function r(e,t){n(1,arguments);var r=t||{},c=r.locale,o=c&&c.options&&c.options.weekStartsOn,l=null==o?0:s(o),i=null==r.weekStartsOn?l:s(r.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=a(e),m=d.getDay(),u=(m<i?7:0)+m-i;return d.setDate(d.getDate()-u),d.setHours(0,0,0,0),d}function c(e,t,a){n(2,arguments);var s=r(e,a),c=r(t,a);return s.getTime()===c.getTime()}function o(e){n(1,arguments);var t=a(e);return t.setHours(0,0,0,0),t}function l(e,t){n(2,arguments);var a=o(e),s=o(t);return a.getTime()===s.getTime()}const i=document;let d=!1;class m{addTask(e){const t=i.getElementById("task-container"),n=i.getElementById("cards"),a=i.createElement("div");a.innerHTML=`\n                <div class="card-show">\n                    <button class="check-btn"><i class="far fa-circle"></i></button>\n                    <h3 class="task-el task-title" name="name">${e._title}</h3>\n                    <h3 class="task-el task-date" name="date">${e._dueDate}</h3>\n                <div class="card-btns">\n                    <button class="btn-task btn-expand"><i class="fas fa-angle-double-down"></i></button>\n                    <button class="btn-task btn-delete"><i class="fas fa-trash-alt"></i></button>\n                    </div>\n                    </div>    \n                <div class="card-hidden">\n                    <h3 class="task-el task-project" name="project">Project: <b>${e._project}</b></h3>\n                    <h3 class="task-el task-priority" name="priority">Priority: <b>${e._priority}</b></h3>\n                    <button class="btn-task btn-edit"><i class="fas fa-edit"></i></button>\n                </div>\n            `,a.classList.add("card",e._priority),n.appendChild(a),this.removeForm(),d&&i.querySelector(".card.editing").remove(),d=!1,n.hasChildNodes()?t.classList.add("hide-bg"):t.classList.remove("hide-bg")}createForm(){const e=i.getElementById("task-container"),t=i.createElement("form"),n=i.createElement("select");["Inbox",...i.getElementById("projects-list").children].forEach((e=>{const t=i.createElement("option");t.value=e.textContent||e,t.textContent=e.textContent||e,n.appendChild(t)})),t.innerHTML=`\n            <div>\n            <input type="text" id="title" placeholder="Task Info">\n            <input type="text" id="dueDate" placeholder="Schedule" onfocus="(this.type='date')" onblur="(this.type='text')">\n            <select id="project-select">\n            ${n.innerHTML}</select>\n            </div>\n            <div>\n            <select id="priority-select">\n                <option value="none">Select Priority</option>\n                <option value="low">Low</option>\n                <option value="medium">Medium</option>\n                <option value="high">High</option>\n            </select>\n            <button class="btn addTaskFormBtn" id="addTaskFormBtn">add</button>\n            <button class="btn cancelTaskFormBtn" id="cancelTaskFormBtn">cancel</button>\n            </div>\n    `,t.classList.add("form-task"),e.classList.add("active"),e.insertAdjacentElement("afterbegin",t)}removeForm(){const e=i.getElementById("task-container"),t=i.querySelector(".form-task");e.children[0]===t&&(e.classList.remove("active"),e.removeChild(t))}removeTaskFormBtn(){i.getElementById("task-container").classList.add("active")}showTaskFormBtn(){i.getElementById("task-container").classList.remove("active")}resetForm(e){i.querySelector(e).reset()}showMessage(e,t){const n=i.createElement("div");n.classList.add("show-msg-modal"),n.classList.add(t),n.textContent=e,document.body.appendChild(n),setTimeout((()=>document.body.removeChild(n)),3e3)}deleteTask(e){const t=e.parentElement.parentElement.parentElement,n=i.getElementById("task-container"),a=i.getElementById("cards");t.classList.add("fall"),t.remove(),this.showMessage("Task removed Sucessfully","danger"),a.hasChildNodes()?n.classList.add("hide-bg"):n.classList.remove("hide-bg")}createNewProjectForm(){const e=i.querySelector(".menu"),t=i.getElementById("create-new-project"),n=i.createElement("form");n.innerHTML='\n        <input type="text" placeholder="Project Name" name="name">\n        <button class="btn-project" id="add-project">Add</button>\n        <button class="btn-project" id="cancel-project">Cancel</button>\n        \n        ',n.classList.add("form-project"),e.insertBefore(n,t),t.classList.add("none")}addNewProject(e){const t=i.querySelector(".menu"),n=i.getElementById("projects-list"),a=i.getElementById("create-new-project"),s=i.querySelector(".form-project"),r=i.createElement("button");r.classList.add("btn","project"),r.innerHTML=`<i class="fas fa-tasks"></i>${e._title}\n        <button class="btn-delete-project"><i class="fas fa-times"></i></button>`,n.appendChild(r),"form-project"===t.children[4].classList[0]&&s.remove(),a.classList.remove("none")}cancelNewProject(){const e=i.getElementById("create-new-project");i.querySelector(".form-project").remove(),e.classList.remove("none")}changeSectionTitle(e){i.getElementById("section-title").textContent=e}changeActive(e){i.querySelector(".menu .btn.active").classList.remove("active"),e.classList.add("active")}deleteProject(e){const t=document.querySelectorAll("#cards .card .task-project");Array.from(t).forEach((t=>{t.children[0].textContent.trim()===e.parentElement.textContent.trim()&&t.parentElement.parentElement.remove()})),e.parentElement.classList.contains("active")&&this.goToHome(),e.parentElement.remove(),this.showMessage("Project removed Succesfully","danger")}goToHome(){"Inbox"!==i.querySelector(".menu .btn.active").textContent&&(this.changeActive(i.querySelector("#inbox")),this.changeSectionTitle("Inbox"),this.showTaskFormBtn(),(()=>{const e=document.querySelectorAll("#cards .card");Array.from(e).forEach((e=>e.style.display="flex"))})())}editTask(e){this.removeForm(),e.classList.add("editing"),d=!0,this.goToHome(),this.createForm();const t=e.children[0].children.name.textContent,n=e.children[0].children.date.textContent,a=e.children[1].children.project.firstElementChild.textContent,s=e.children[1].children.priority.firstElementChild.textContent;i.getElementById("title").value=t,i.getElementById("dueDate").value=n,i.getElementById("project-select").value=a,i.getElementById("priority-select").value=s,e.style.display="none"}}const u=()=>{const a=new m;i.addEventListener("click",(s=>{if(s.target.matches("#addTaskFormBtn")){s.preventDefault();const t=document.getElementById("title").value;let n=document.getElementById("dueDate").value,r=document.getElementById("project-select").value;const c=document.getElementById("priority-select").value;if(""===t)return a.showMessage("Task title can not be blank","alert");""===n&&(n="No due date");const o=new e(t,n,r,c);a.addTask(o),a.showMessage("Task added Succesfully","success")}if(s.target.matches("#add-task")&&a.createForm(),s.target.matches(".btn-delete")&&a.deleteTask(s.target),s.target.matches("#create-new-project")&&a.createNewProjectForm(),s.target.matches("#add-project")){s.preventDefault();const e=i.querySelector(".form-project").name.value;if(""===e)return a.showMessage("Project title can not be blank","alert");if(e.length>15)return a.showMessage("Project title can not be longer than 15 char","alert");const n=new t(e);a.addNewProject(n),a.removeForm(),a.showMessage("Project added Succesfully","success")}if(s.target.matches("#week")&&(a.changeActive(s.target),a.changeSectionTitle("This Week Tasks"),a.removeForm(),a.removeTaskFormBtn(),(()=>{const e=document.querySelectorAll("#cards .card .task-date");Array.from(e).forEach((e=>{e.parentElement.parentElement.style.display="flex",function(e,t){return n(1,arguments),c(e,Date.now(),t)}(new Date(e.textContent))||(e.parentElement.parentElement.style.display="none")}))})()),s.target.matches("#inbox")&&a.goToHome(),s.target.matches("#today")&&(a.changeActive(s.target),a.changeSectionTitle("Today Tasks"),a.removeForm(),a.removeTaskFormBtn(),(()=>{const e=document.querySelectorAll("#cards .card .task-date");Array.from(e).forEach((e=>{e.parentElement.parentElement.style.display="flex",function(e){return n(1,arguments),l(e,Date.now())}(new Date(e.textContent))||(e.parentElement.parentElement.style.display="none")}))})()),s.target.matches(".project")&&(a.changeActive(s.target),a.changeSectionTitle(s.target.textContent),(e=>{const t=document.querySelectorAll("#cards .card .task-project");Array.from(t).forEach((t=>{t.style.display="flex",e.textContent.includes(t.firstElementChild.textContent)||(t.parentElement.parentElement.style.display="none")}))})(s.target),a.removeForm(),a.removeTaskFormBtn()),s.target.matches(".btn-delete-project")&&(a.deleteProject(s.target),a.showMessage("Project removed Succesfully","danger")),s.target.matches(".cancelTaskFormBtn")&&(s.preventDefault(),d&&(i.querySelector(".card.editing").style.display="flex",i.querySelector(".card.editing").classList.remove("editing")),a.removeForm()),s.target.matches(".float-task-btn")&&a.goToHome(),s.target.matches(".home")&&a.goToHome(),s.target.matches("#cancel-project")&&(s.preventDefault(),a.cancelNewProject()),s.target.matches(".btn-expand")&&s.target.parentElement.parentElement.parentElement.classList.toggle("show"),s.target.matches(".btn-edit")&&a.editTask(s.target.parentElement.parentElement),s.target.matches(".check-btn")){if(s.target.children[0].classList.contains("fa-circle"))return s.target.children[0].classList.replace("fa-circle","fa-check-circle"),void s.target.parentElement.parentElement.classList.add("checked");if(s.target.children[0].classList.contains("fa-check-circle"))return s.target.children[0].classList.replace("fa-check-circle","fa-circle"),void s.target.parentElement.parentElement.classList.remove("checked")}s.target.matches(".collapse-menu")&&i.getElementById("container").classList.toggle("collapse")})),i.addEventListener("keyup",(e=>{const t=i.getElementById("input-search");if(e.target.matches("#input-search")){if(e.preventDefault(),(e=>{const t=document.querySelectorAll("#cards .card .task-title");Array.from(t).forEach((t=>{t.textContent.toLowerCase().includes(e.toLowerCase())?t.parentElement.parentElement.style.display="flex":t.parentElement.parentElement.style.display="none"}))})(t.value),"Inbox"===i.querySelector(".menu .btn.active").textContent)return;a.changeActive(i.querySelector("#inbox")),a.changeSectionTitle("Inbox"),a.showTaskFormBtn()}}))};window.addEventListener("DOMContentLoaded",(()=>{})),document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.getElementById("container");(()=>{const t=document.createElement("header");t.className="header",t.innerHTML='\n        <div class="logo">ToDo App</div>\n        <nav class="nav">\n            <button class="btn collapse-menu"><i class="fas fa-bars"></i></button>\n            <button class="btn home"><i class="fas fa-home"></i></button>\n            <form autocomplete="off" class="filter-form">\n                <i class="fas fa-search"></i>\n                <input type="text" name="search" class="input-search" id="input-search" placeholder="search...">\n            </form>\n            <h2 id="section-title" class="section-title">Inbox</h2>\n        </nav>\n        <div class="info">\n        <div class="low">Low</div>\n        <div class="medium">Medium</div>\n        <div class="high">High</div>\n        </div>\n        ',e.appendChild(t)})(),(()=>{const t=document.createElement("main");t.innerHTML='\n        <section class="menu">\n            <button class="btn active" id="inbox"><i class="fas fa-inbox"></i>Inbox</button>\n            <button class="btn" id="today"><i class="fas fa-calendar-day"></i>Today</button>\n            <button class="btn" id="week"><i class="fas fa-calendar-week"></i>Upcoming</button>\n            <h3 class="project-section-title"><i class="fas fa-circle"></i>Projects</h3>\n            <button class="btn" id="create-new-project"><i class="fas fa-plus"></i>Create new project</button>\n            <div id="projects-list"></div>\n        </section>\n        <section class="task-container" id="task-container">\n            <button class="btn createTask" id="add-task"><i class="fas fa-plus"></i>Add task</button>\n            <div class="cards" id="cards"></div>\n        </section>\n        <button class="float-task-btn"><i class="fas fa-plus"></i></button>\n        ',e.appendChild(t)})()})(),u()}))})();